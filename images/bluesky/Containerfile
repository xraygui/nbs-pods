FROM ghcr.io/prefix-dev/pixi:latest

RUN apt-get update && apt-get install -y git

RUN mkdir -p /etc/tiled/profiles
RUN mkdir -p /etc/bluesky
RUN mkdir -p /etc/pixi
RUN mkdir -p /opt/pixi/envs

# Copy default configurations
COPY src/nbs_pods/config/tiled/profiles/ /etc/tiled/profiles/
COPY src/nbs_pods/config/bluesky/ /etc/bluesky/
COPY src/nbs_pods/config/ipython/ /usr/local/share/ipython/
COPY src/nbs_pods/config/pixi/ /etc/pixi/

WORKDIR /usr/local/share/ipython/profile_default